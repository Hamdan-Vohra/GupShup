<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>GupShup Chat</title>
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.socket.io/4.3.2/socket.io.min.js"></script>
    <script src="{{ url_for('static', filename='js/chat.js') }}" defer></script>
  </head>
  <body
    class="bg-gradient-to-br from-indigo-300 to-purple-300 min-h-screen flex flex-col"
  >
    {% include 'navbar.html' %}

    <div class="flex flex-col md:flex-row flex-1">
      <div
        class="hidden md:block w-1/4 bg-white/30 backdrop-blur p-4 overflow-y-auto"
      >
        {% include 'friend_list.html' %}
      </div>

      <div class="flex-1 flex flex-col">{% include 'chat_area.html' %}</div>
    </div>

    {% include 'add_friend_modal.html' %} {% include 'profile_modal.html' %}

    <script>
        window.currentUser = "{{ username }}";
        window.friendListData = {{ friends | tojson | safe }};

        function toggleSidebar() {
          document.getElementById("friend-list").classList.toggle("hidden");
        document.getElementById("friend-list").classList.toggle("-translate-x-full");
      }

      function toggleAddFriendForm() {
        document.getElementById("add-friend-form").classList.toggle("hidden");
      }
    </script>
  </body>
</html>
